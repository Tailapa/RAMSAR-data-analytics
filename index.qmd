---
title: "India’s RAMSAR Sites: A Geometric Analysis"
subtitle: "Evaluating Wetland Conservation Trends and Ecological Data"
author: "Shashank Venkatesh"
date: last-modified
format:
  html:
    theme: cosmo
    toc: true
    toc-depth: 2
    toc-location: left
    code-fold: false
    code-tools: true
    embed-resources: true
execute:
  echo: true
  warning: false
  message: false
bibliography: references.bib
editor_options: 
  chunk_output_type: console
---

## Data Source

The foundational data for this analysis is sourced from the **Open Government Data (OGD) Platform India** catalog on **Ramsar Sites Details**.
This dataset provides the geometric coordinates, area in hectares, and designation dates for the wetlands, allowing for a precise spatial and temporal analysis.

```{r}
#| label: load the dataset
library(tidyverse)
library(tidymodels)
library(scales)
library(jsonlite)
library(dplyr)

# URL of the RAMSAR API
api_url <- "https://indianwetlands.in/wp-content/themes/wetlands/restapi-ramsar.php"

# Fetch and parse the data
# Note: Sometimes government APIs require a 'User-Agent' header to allow access
ramsar_json <- fromJSON(api_url)

# Convert to a data frame
# The API usually returns a nested list; we simplify it here
ramsar_data <- as.data.frame(ramsar_json)

```

## Glimpse of the dataframe

```{r}
#| label: glimpse into the dataframe
#| message: false
#| warning: false
glimpse(ramsar_data)
```

The dataset has **`r nrow(ramsar_data)`** rows and **`r ncol(ramsar_data)`** columns.

## Data Cleaning and Preparation

to ensure all "geometric coordinates" and sizes are correctly typed.

```{r}
#| label: Converting chr strings to proper data types
#| message: false
#| warning: false
# Convert character strings to numeric and date types
ramsar_clean <- ramsar_data |>
  mutate(
    Area = as.numeric(Area),
    Latitude = as.numeric(Latitude),
    Longitude = as.numeric(Longitude),
    Date = as.Date(DesignationDate),
    Year = as.numeric(format(Date, "%Y"))
  ) |>
  arrange(Date) |>
  mutate(cumulative_sites = row_number())
```

## The Acceleration of Conservation: A Temporal Growth Analysis

### How has the rate of RAMSAR designations in India changed over the last three decades, particularly since the 2020s?

to pinpoint the "inflection point" where India’s wetland conservation policy shifted into high gear.

```{r}
#| label: temporal growth analysis
#| message: false
#| warning: false
ggplot(ramsar_clean, aes(x = Date, y = cumulative_sites)) +
  #geom_area(fill = "#2A9D8F", alpha = 0.2) +
  geom_line(color = "#2A9D8F", size = 0.5) +
  geom_point(data = filter(ramsar_clean, Year >= 2020), 
             color = "#E63946", size = 1) +
  labs(
    title = "The Exponential Rise of Indian RAMSAR Sites",
    subtitle = "Cumulative designations from 1981 to December 2025",
    x = "Year of Designation", y = "Total Number of Sites"
  ) +
  theme_minimal() +
  theme(panel.grid.minor = element_blank(),
        plot.title = element_text(face = "bold", size = 16, color = "#264653"))
```

## State-wise Distribution: The Pareto of Wetlands

### Does a small number of states hold the majority of India's RAMSAR designations, or is it evenly distributed?

Count sites by `StateName` and sort them in descending order.

Highlights regional leaders in ecological preservation.

```{r}
#| label: State-wise Distribution

ramsar_clean |>
  count(StateName) |>
  mutate(Highlight = ifelse(n >= 10, "Top Tier", "Other")) |>
  ggplot(aes(x = n, y = reorder(StateName, n), fill = Highlight)) +
  geom_col(width = 0.8) +
  scale_fill_manual(values = c("Top Tier" = "#E63946", "Other" = "#2A9D8F")) +
  labs(
    title = "Regional Distribution of Wetlands",
    subtitle = "Tamil Nadu leads the geometric distribution with 20 sites",
    x = "Number of Designated Sites", y = NULL, fill = "Status"
  ) +
  theme_minimal() +
  theme(legend.position = "none",
        axis.text.y = element_text(size = 9, face = "bold"))
```

## The Size Spectrum: Are we protecting large basins or small habitats?

### What is the distribution of wetland sizes (Area), and are there "mega-wetlands" that skew the national average?

Transform the `Area` column to numeric and create a histogram or density plot.

Shows if India focuses on massive ecological systems or smaller, niche biodiversity hotspots.

```{r}
#| label: Large basins v/s small habitats
ggplot(ramsar_clean, aes(x = Area)) +
  geom_histogram(fill = "#264653", color = "white", bins = 20) +
  scale_x_log10(labels = comma) +
  labs(
    title = "Distribution of Wetland Area (Log Scale)",
    subtitle = "Analysis of size variance from small reserves to massive basins",
    x = "Area in Hectares (Log10)", y = "Frequency of Sites"
  ) +
  theme_minimal() +
  theme(panel.grid.minor = element_blank())
```

### 4. Latitude & Area: The North-South Conservation Divide

**Question:** Is there a relationship between geographical latitude and the size of designated wetlands?

-   **Logic:** A scatter plot with `Latitude` on the X-axis and `Area` (log-scale) on the Y-axis.

-   **Geometric Style:** Use transparent circles (`alpha = 0.5`) so that overlapping sites create darker "geometric nodes."

-   **What it reveals:** Helps visualize if northern (Himalayan) wetlands tend to be larger or smaller than southern/peninsular ones.

### 5. District-Level Granularity within Leading States

**Question:** Within the states with the most RAMSAR sites, are the wetlands clustered in specific districts or spread across the state?

-   **Logic:** Filter for a top state (like Tamil Nadu or Uttar Pradesh) and plot counts by `districtname`.

-   **Geometric Style:** A treemap or a grouped bar chart.

-   **What it reveals:** Identifies "ecological hubs" at a local government level, which is useful for management authority analysis.
